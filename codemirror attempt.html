<!DOCTYPE html>
<html>
<head>
    
    <title>Codemirror page test</title>
    <link rel='stylesheet' href= 'codemirror/lib/codemirror.css'>

    <link rel='stylesheet' href= 'codemirror/theme/blackboard.css'>

    <script src = 'codemirror/lib/codemirror.js'></script>

    <script src = 'codemirror/addon/edit/closebrackets.js'></script>

    <script src = 'codemirror/addon/edit/matchbrackets.js'></script>

   

    <script src = 'codemirror/mode/python/python.js'></script>

</head>
<body>
<textarea class = 'codemirroreditor' id = 'editor'>
</textarea>
<div id = 'output'></div>

<button>edit</button>
<button id='run'>Run</button>
<!-- Create a simple CodeMirror instance -->
<script>
  var editor = CodeMirror.fromTextArea(document.getElementById('editor'), {  
    lineNumbers: true, 
    theme: "blackboard",
    mode: "python",
    autoCloseBrackets: true,
  });


    document.getElementById('run').addEventListener('click', function(){
        var value = editor.getValue();
        axios.post("http://localhost/api/runcode", {
            code: value
        }).then(function(res) {
            console.log(res);
        })});

</script>
</body>

</html>